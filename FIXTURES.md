# Овервью фикстур

  

Документ описывает фикстуры, используемые в проекте автотестов, их назначение и области видимости.

  

## Общие фикстуры (tests/conftest.py)

  

### valid_uuid

-  **Scope:** function

-  **Тип:** str

-  **Назначение:** валидный UUID для тестов валидаторов:
"550e8400-e29b-41d4-a716-446655440000"

-  **Использование:** проверки is_valid_uuid

  

---

  

### valid_emails

-  **Scope:** function

-  **Тип:** list[str]

-  **Назначение:** список корректных email-адресов:
["User@Test.com", "a.b+c@test.co.uk", "test@example.com"]

-  **Использование:** параметризованные тесты email-валидации

  

---

  

### invalid_emails

-  **Scope:** function

-  **Тип:** list[str]

-  **Назначение:** список некорректных email-адресов:
["not-an-email", "test@", "@test.com", "test @mail.com", "test@mail", "", " "]

-  **Использование:** негативные проверки email-валидации

  

---

  

### sample_user_dict

-  **Scope:** function

-  **Тип:** dict

-  **Назначение:** базовый словарь пользователя для unit-тестов:
{"id": 1, "email": "test@example.com", "name": "John"}

-  **Особенности:** используется как основа для других фикстур

  

---

  

### sample_user_missing_email

-  **Scope:** function

-  **Тип:** dict

-  **Назначение:** пользователь без поля email

-  **Особенности:** создаётся на основе sample_user_dict с копированием данных, чтобы избежать утечек состояния

  

---

  

### run_id

-  **Scope:** session

-  **Тип:** str

-  **Назначение:** уникальный идентификатор запуска тестов

-  **Использование:** демонстрация session-scope фикстур

  

---

  

## Unit фикстуры (tests/unit/conftest.py)

### unit_numbers
- **Scope:** module
- **Тип:** list[int]
- **Назначение:** общий набор чисел для unit-тестов и демонстрации module-scope:
[1, 2, 3, 4, 5]
- **Особенности:** данные должны рассматриваться как неизменяемые; тесты не должны модифицировать список, иначе возможны утечки состояния между тестами в одном файле  
---

### required_user_keys

-  **Scope:** module

-  **Тип:** list[str]

-  **Назначение:** список обязательных ключей пользователя:
["id", "email", "name"]

-  **Использование:** проверки структуры пользовательских данных в unit-тестах

  

---

  

## Принципы использования фикстур в проекте

  

-  **function-scope** используется по умолчанию для изоляции тестов

-  **module-scope** применяется для неизменяемых данных, общих для одного файла тестов

-  **session-scope** используется для глобального контекста запуска

- Фикстуры не должны изменять возвращаемые данные, если они используются несколькими тестами

- Для динамического выбора фикстур используется `request.getfixturevalue`